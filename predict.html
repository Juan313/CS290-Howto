<!DOCTYPE html>
<html>
  <head>
    <title>API HOW-TO by Juan Du</title>
    <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
  </head>
  <body>
    <!-- Header -->
      <header id="header">
        <div class="inner">
          <a href="index.html" class="logo"><strong>API How-to page</strong> by Juan Du</a>
          <nav id="nav">
            <a href="index.html">Home</a>
            <a href="training.html">Training</a>
            <a href="predict.html">Predict</a>
            <a href="demo.html">Demo</a>
          </nav>
          <a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
        </div>
      </header>
      <!-- Banner -->
  			<section id="banner">
  				<div class="inner">
  					<header>
  						<h1>Google Cloud Prediction API How-to Guide</h1>
  					</header>

  					<div class="flex ">
              <!--<a href=#setup>-->
  						<div style="visibility: hidden"><a href="index.html#setup">
  							<span class="icon fa-car"></span>
  							<h3>Overview</h3>
  							 <p>Introduction and setup</p></a>
  						</div>


  						<div style="visibility: hidden"><a href="training.html#training">
  							<span class="icon fa-camera"></span>
  							<h3>Training model</h3>
  							<p>Use dataset to train a model</p></a>
  						</div>


            <!--<a href="predict.html">-->
              <div><a href="predict.html#predict">
                <span class="icon fa-camera"></span>
                <h3>Prediction</h3>
                <p>How to make predicion</p></a>
              </div>

              <!--<a href="demo.html">-->
  						<div><a href="demo.html">
  							<span class="icon fa-bug"></span>
  							<h3>Demo</h3>
  							<p>A digit recognition app</p></a>
  						</div>

  					</div>

  				</div>
  			</section>
        <!-- Three -->
    			<section id="three" class="wrapper align-center"><a name="predict"></a>
    				<div class="inner">
    					<div >
    						<article>
    							<div class="image round">
    								<center><img src="images/pic03.png" style="width: 15%; height: 15%" /></center>
    							</div>
    							<header>
    								<h3>Making a prediction</h3>
    							</header>

                  <ol class="mainbody">

										<li>Gather your data to make a prediction
											<p class="mainbody">Unlike the data for training the model, the prediction data shall not include the answer key also the csv
											data are not enclosed by double quotation mark as the training data. For the demo application, I created an array called csvInstance, which is used
											to store the pixel location of the digit and it will be passed to the makePrediction function and further pass into the request to make Google Prediction API call.
											<br>For example csvInstance = [<br>
											 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br>
											 0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,<br>
											 0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,<br>
											 0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,<br>
											 0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,<br>
											 0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,<br>
											 0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,<br>
											 0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,<br>
											 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<br>
											 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<br>
											 1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,<br>
											 0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,<br>
											 0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,<br>
											 0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,<br>
											 0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,<br>
											 0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0]<br>
										  The demo app shall return "FOUR"  </p>
										</li>

                    <li>Code snipet for prediction call

                      <pre><code>
	function makePrediction(csvInstance) {
	var project = "polar-winter-167323";
	var id = "handwritten digit";

	gapi.client.request({
		'path': "https://www.googleapis.com/prediction/v1.6/projects/"+project+"/trainedmodels/"+id+"/predict",
		'method': "POST",
		'body': {
							"input": {
								"csvInstance": csvInstance
							}
						},
	}).then(function (resp) {
			var p = document.createElement('p');
			//
			var text = document.createTextNode(resp.result.outputLabel);
			p.appendChild(text);
			var element = document.getElementsByTagName("body")[0];
			element.appendChild(p);

			console.log(resp.result.outputLabel);
			});
	}
                      </code></pre>
</li>


</ol>
                  <footer>
										<a href="training.html#training" class="button special">Prev</a>
    								<a href="demo.html" class="button special">Next</a>
    							</footer>
    						</article>

    					</div>
    				</div>
    			</section>


  </body>
</html>
